#include <iostream>
#include <fstream>
#include <vector>
#include <iomanip>

using namespace std;

int main() 
{
	vector<int> numVector;
	const int SKIP_NUM = 6000;//number in file to skip to
	int numBytes = 5;//bytes to be read in
	int product = (numBytes * SKIP_NUM);//to be used with seekg()
	fstream file("file1.txt", ios::in|ios::out|ios::binary);

	if (!file)
	{
		cout << "Cannot open file.";
		exit(1); //exit program if file isnt open
	}

	file.clear();
	file.seekg(product);//skipping to the pointer to start adding new nums

	while (file.is_open())//read in the numbers of the file
	{
		int nextNum;
		file >> nextNum;
		if (file.fail())
		{
			break;
		}
		numVector.push_back(nextNum);
	}

	file.clear();//clear the file handles

	file.seekp(product);

	for (int i = 7777; i <= 7781; i++) //inserting 5 new numbers
	{
		file << i << endl;
	}

	for (int i = 6006; i < 9999; i++) //continuing to add the rest of the numbers from the file
	{
		file << numVector[i] << endl;
	}
	
	//===================================different logic testing========================================
	
	/*
	int count = 0;

	while (!file.fail())
	{
		int num;
		file >> num;
		if (num == SKIP_NUM)
		{
			break;
		}
	}
	int numLoc = file.tellg();
	cout << "CHECK";
	file >> numVector[count];
	cout << "CHECK1";
	while(!file.fail())
	{
		count++;
		file >> numVector[count];
	}
	cout << "CHECK2";
	file.clear();
	file.seekp(numLoc + 2);

	for (int i = 7777; i <= 7781; i++)
	{
		file << left << setw(4) << i;
	}
	cout << "CHECK3";
	for (int i = 0; i < count; i++)
	{
		file << left << setw(4) << numVector[i];
	}
	*/
	
	file.close();

	return 0;
}
